<!doctype html>
<html>
  <head>
    <link href="compiled_css/main.css" rel="stylesheet">

  </head>
  <body>
    <!-- CHROME EXTENSION POPUP -->
    <script type="text/x-handlebars" data-template-name="application">
      {{#linkTo today}}Today{{/linkTo}}
      {{#linkTo tasks}}Tasks{{/linkTo}}
      {{#linkTo timer}}Timer{{/linkTo}}
      {{outlet}}
    </script>

    <script type="text/x-handlebars" data-template-name="tasks">
      <h2>Tasks</h2>
      {{input value=newTaskTitle}}
      <button {{action addTask}}>Add</button>

      <ul class="task-list">
        {{#each task in controller itemController="task"}}
          <li {{bindAttr class="isCompleted:completed isEditing:editing"}}>
            {{#if task.isEditing}}
              {{view App.EditTaskView taskBinding=task}}
            {{else}}
              {{input type=checkbox checked=task.isCompleted}} 
              <label {{action "editTask" on="doubleClick"}}>{{task.title}}</label>
              {{#linkTo task task}}details{{/linkTo}}
              <button {{action "removeTask"}} class="destroy">Delete</button>
            {{/if}}
          </li>
        {{/each}}
      </ul>
    </script>

    <script type="text/x-handlebars" data-template-name="today">
      <h2>Today</h2>
      {{view Ember.Select contentBinding=allTasks
                          selectionBinding=selectedTask
                          optionValuePath=content.id
                          optionLabelPath=content.title
                          prompt="Please select a task"}}

      <button {{action start}}>Start</button>
    </script>

    <script type="text/x-handlebars" data-template-name="task">
      <h2>{{title}}</h2>
      <label>ID:</label> {{id}}
      <ul>
      {{#each logs}}
        {{id}} - {{startedAt}} - {{finishedAt}}
      {{/each}}
      </ul>
    </script>

    <script type="text/x-handlebars" data-template-name="timer">
      <h2>{{title}} Running...</h2>
      <label>Elapsed seconds: {{elapsedSeconds}}</label>
    </script>

    <script src="components/jquery/jquery.js"></script>
    <script src="components/handlebars/handlebars.js"></script>
    <script src="components/ember/ember.js"></script>
    <script src="components/ember-data/index.js"></script>
    <script src="components/ember-localstorage/localstorage_adapter.js"></script>
    <!-- build:js scripts/popup.js -->
    <script src="compiled_js/popup.js"></script>
    <!-- endbuild -->
  </body>
</html>
